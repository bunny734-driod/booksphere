<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Sets the viewport for responsive design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Library</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font "Inter" for a clean look -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the active tab link */
        .tab-active {
            border-b-2;
            border-b-indigo-500;
        }
        /* Styles for the modal background */
        .modal-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Styles for the modal content */
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
        }
        .dark .modal-content {
            background-color: #1a202c;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto p-4 md:p-8">

        <!-- Header -->
        <header class="flex justify-between items-center mb-10">
            <div class="flex-1 text-center">
                <h1 class="text-4xl md:text-5xl font-extrabold text-indigo-600 dark:text-indigo-400">The Digital Library</h1>
                <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">A curated collection of poetry and short stories.</p>
            </div>
            <!-- Dark Mode Toggle Button -->
            <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-gray-200 shadow-md">
                <svg id="sun-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 1.586l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 011.414-1.414zM10 18a1 1 0 01-1-1v-1a1 1 0 112 0v1a1 1 0 01-1 1zM4.343 14.657l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM3 10a1 1 0 01-1 1H2a1 1 0 110-2h1a1 1 0 011 1zM14.657 4.343l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414-1.414zM4.343 4.343a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM10 15a5 5 0 100-10 5 5 0 000 10z" clip-rule="evenodd" fill-rule="evenodd"></path>
                </svg>
                <svg id="moon-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                </svg>
            </button>
        </header>

        <!-- Navigation Tabs -->
        <nav class="flex justify-center mb-8">
            <button id="poetry-tab" onclick="showSection('poetry')" class="tab-button border-b-2 border-transparent px-6 py-2 text-xl font-medium text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200">Poetry</button>
            <button id="stories-tab" onclick="showSection('stories')" class="tab-button border-b-2 border-transparent px-6 py-2 text-xl font-medium text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200">Short Stories</button>
        </nav>

        <!-- Content Sections -->
        <div id="content-container">

            <!-- Poetry Section -->
            <section id="poetry-section" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Poetry Item 1 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">The Road Not Taken</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Robert Frost</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 poem-text">
                        Two roads diverged in a yellow wood,
                        And sorry I could not travel both
                        And be one traveler, long I stood
                        And looked down one as far as I could
                        To where it bent in the undergrowth;

                        Then took the other, as just as fair,
                        And having perhaps the better claim,
                        Because it was grassy and wanted wear;
                        Though as for that the passing there
                        Had worn them really about the same,

                        And both that morning equally lay
                        In leaves no step had trodden black.
                        Oh, I kept the first for another day!
                        Yet knowing how way leads on to way,
                        I doubted if I should ever come back.

                        I shall be telling this with a sigh
                        Somewhere ages and ages hence:
                        Two roads diverged in a wood, and I—
                        I took the one less traveled by,
                        And that has made all the difference.
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Poetry Item 2 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">If—</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Rudyard Kipling</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 poem-text">
                        If you can keep your head when all about you
                        Are losing theirs and blaming it on you,
                        If you can trust yourself when all men doubt you,
                        But make allowance for their doubting too;
                        If you can wait and not be tired by waiting,
                        Or being lied about, don’t deal in lies,
                        Or being hated, don’t give way to hating,
                        And yet don’t look too good, nor talk too wise...

                        (Full text is much longer)
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Poetry Item 3 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">Still I Rise</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Maya Angelou</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 poem-text">
                        You may write me down in history
                        With your bitter, twisted lies,
                        You may trod me in the very dirt
                        But still, like dust, I'll rise.
                        Does my sassiness upset you?
                        Why are you beset with gloom?
                        ’Cause I walk like I've got oil wells
                        Pumping in my living room...
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Poetry Item 4 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">Ozymandias</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Percy Bysshe Shelley</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 poem-text">
                        I met a traveller from an antique land,
                        Who said—“Two vast and trunkless legs of stone
                        Stand in the desert. . . . Near them, on the sand,
                        Half sunk a shattered visage lies, whose frown,
                        And wrinkled lip, and sneer of cold command,
                        Tell that its sculptor well those passions read
                        Which yet survive, stamped on these lifeless things,
                        The hand that mocked them, and the heart that fed;
                        And on the pedestal, these words appear:
                        My name is Ozymandias, King of Kings;
                        Look on my Works, ye Mighty, and despair!
                        Nothing beside remains. Round the decay
                        Of that colossal Wreck, boundless and bare
                        The lone and level sands stretch far away.”
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>
            </section>

            <!-- Short Stories Section (initially hidden) -->
            <section id="stories-section" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Short Story Item 1 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">The Gift of the Magi</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by O. Henry</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 story-text">
                        One dollar and eighty-seven cents. That was all. And sixty cents of it was in pennies. Pennies saved one and two at a time by bulldozing the grocer and the vegetable man and the butcher until one's cheeks burned with the silent imputation of parsimony that such close dealing implied.
                        Della finished her cry and attended to her cheeks with the powder rag. She stood by the window and looked out dully at a gray cat walking a gray fence in a gray backyard. Tomorrow would be Christmas Day, and she had only $1.87 with which to buy Jim a present...
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Short Story Item 2 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">The Tell-Tale Heart</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Edgar Allan Poe</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 story-text">
                        True!—nervous—very, very dreadfully nervous I had been and am; but why will you say that I am mad? The disease had sharpened my senses—not destroyed—not dulled them. Above all was the sense of hearing acute. I heard all things in the heaven and in the earth. I heard many things in hell. How, then, am I mad? Hearken! and observe how healthily—how calmly I can tell you the whole story...
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Short Story Item 3 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">The Lottery</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by Shirley Jackson</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 story-text">
                        The morning of June 27th was clear and sunny, with the fresh warmth of a full-summer day; the flowers were blossoming profusely and the grass was richly green. The people of the village began to gather in the square, between the post office and the bank, around ten o'clock; in some towns there were so many people that the lottery took two days and had to be started on June 26th...
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>

                <!-- Short Story Item 4 -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg transition-transform transform hover:scale-105 duration-300">
                    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200">The Last Leaf</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2">by O. Henry</p>
                    <p class="mt-4 text-gray-700 dark:text-gray-300 line-clamp-4 story-text">
                        In a little district west of Washington Square the streets have run crazy and broken themselves into small strips called "places." These "places" make strange angles and curves. One street crosses itself a time or two. An artist once discovered a very valuable possibility in this street. If a commissionnaire, with a big bill for paints, should ever get lost in this labyrinth, the result would be that he would be found some day, dead, of starvation...
                    </p>
                    <button class="mt-4 inline-block text-indigo-600 dark:text-indigo-400 font-semibold hover:underline read-more-btn">Read More</button>
                </div>
            </section>

        </div>

    </div>

    <!-- Modal for displaying full content -->
    <div id="modal" class="hidden modal-background">
        <div class="modal-content text-gray-900 dark:text-gray-100">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 dark:hover:text-gray-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <h2 id="modal-title" class="text-3xl font-bold mb-4"></h2>
            <p id="modal-author" class="text-gray-600 dark:text-gray-400 mb-6"></p>
            <div id="modal-content" class="whitespace-pre-line text-lg leading-relaxed"></div>
        </div>
    </div>

    <!-- JavaScript for tab switching and new features -->
    <script>
        const poetryTab = document.getElementById('poetry-tab');
        const storiesTab = document.getElementById('stories-tab');
        const poetrySection = document.getElementById('poetry-section');
        const storiesSection = document.getElementById('stories-section');
        const themeToggleBtn = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalAuthor = document.getElementById('modal-author');
        const modalContent = document.getElementById('modal-content');
        const closeModalBtn = document.getElementById('close-modal-btn');

        // Function to show a specific content section
        function showSection(section) {
            if (section === 'poetry') {
                poetrySection.classList.remove('hidden');
                storiesSection.classList.add('hidden');
                poetryTab.classList.add('border-indigo-500');
                storiesTab.classList.remove('border-indigo-500');
            } else if (section === 'stories') {
                poetrySection.classList.add('hidden');
                storiesSection.classList.remove('hidden');
                storiesTab.classList.add('border-indigo-500');
                poetryTab.classList.remove('border-indigo-500');
            }
        }

        // Set the initial active tab and content on page load
        document.addEventListener('DOMContentLoaded', () => {
            showSection('poetry');
            // Check for saved theme preference
            if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.body.classList.add('dark');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                document.body.classList.remove('dark');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
        });

        // Dark mode toggle functionality
        themeToggleBtn.addEventListener('click', () => {
            if (document.body.classList.contains('dark')) {
                document.body.classList.remove('dark');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
                localStorage.setItem('theme', 'light');
            } else {
                document.body.classList.add('dark');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
                localStorage.setItem('theme', 'dark');
            }
        });

        // Functionality for "Read More" buttons and modal
        document.querySelectorAll('.read-more-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const parentDiv = event.target.closest('div');
                const title = parentDiv.querySelector('h2').textContent;
                const author = parentDiv.querySelector('p').textContent;
                const content = parentDiv.querySelector('.poem-text, .story-text').textContent;

                modalTitle.textContent = title;
                modalAuthor.textContent = author;
                modalContent.textContent = content.trim(); // Trim to remove leading/trailing whitespace

                modal.classList.remove('hidden');
            });
        });

        // Close modal button functionality
        closeModalBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
        });

        // Close modal when clicking outside of it
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.classList.add('hidden');
            }
        });
    </script>
</body>
</html>